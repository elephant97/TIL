# MVC 패턴
스프링 MVC 1편 - 백엔드 웹 개발 핵심 기술

<br>

### Model View Controller
> 컨트롤러(Controller)와 뷰(View)라 는 영역으로 서로 역할을 나눈 것
* 컨트롤러
  * HTTP 요청을 받아서 파라미터를 검증하고, 비즈니스 로직을 실행한다. 
  * 뷰에 전달할 결과 데이터를 조회해서 모델에 담는다.
* 모델
  * 뷰에 출력할 데이터를 담아둔다.
  * 뷰가 필요한 데이터를 모두 모델에 담아서 전달해주는 덕분에 뷰는 비즈니스 로직이나 데이터 접근을 몰라도 되고,     
    화면을 렌더링 하는 일에 집중할 수 있다.
* 뷰
  * 모델에 담겨있는 데이터를 사용해서 화면을 그리는 일에 집중한다.
  * 여기서는 HTML을 생성하는 부분을 말한다.    

<br>

*컨트롤러에 비즈니스 로직을 둘 수도 있지만, 이렇게 되면 컨트롤러가 너무 많은 역할을 담당한다.    
그래서 일반적 으로 비즈니스 로직은 서비스(Service)라는 계층을 별도로 만들어서 처리한다.    
그리고 컨트롤러는 비즈니스 로직 이 있는 서비스를 호출하는 역할을 담당한다.     
참고로 비즈니스 로직을 변경하면 비즈니스 로직을 호출하는 컨트롤러의 코드도 변경될 수 있다.*

### MVC 패턴 - 적용
> Model은 HttpServletRequest 객체를 사용한다.     
> request는 내부에 데이터 저장소를 가지고 있는데,`request.setAttribute()` ,     
> `request.getAttribute()` 를 사용하면 데이터를 보관하고, 조회할 수 있다.
* `dispatcher.forward()`
  * 다른 서블릿이나 JSP로 이동할 수 있는 기능이다.
  * 서버 내부에서 다시 호출이 발생한다.
* `/WEB-INF`
  * 이 경로안에 JSP가 있으면 외부에서 직접 JSP를 호출할 수 없다.
  * 우리가 기대하는 것은 항상 컨트롤러를 통해서 JSP를 호출하는 것이다.
* **redirect vs forward**
  * 리다이렉트
    * 실제 클라이언트(웹 브라우저)에 응답이 나갔다가, **클라이언트가 redirect 경로로 다시 요청**
    * 클라이언트가 인지할 수 있고, URL 경로도 실제로 변경된다
  * 포워드
    * **서버 내부에서 일어나는 호출**이기 때문에 클라이언트가 전혀 인지하지 못한다.


### MVC의 한계
* **공통 처리가 어렵다.**
  * 이 문제를 해결하려면 컨트롤러 호출 전에 먼저 공통 기능을 처리해야 한다.
  * 소위 **수문장 역할**을 하는 기능이 필요하다.
  * **프론트 컨트롤러(Front Controller) 패턴**을 도입하면 이런 문제를 깔끔하게 해결할 수 있다.(입구를 하나로)
  * 스프링 MVC의 핵심도 바로 이 프론트 컨트롤러에 있다.
